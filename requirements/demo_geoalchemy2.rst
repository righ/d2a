d2a has been supported `GeoDjango <https://docs.djangoproject.com/en/3.0/ref/contrib/gis/>`__ since `2.3.0`.

It translates
`GeoDjango fields <https://docs.djangoproject.com/en/3.0/ref/contrib/gis/model-api/>`__
into 
`GeoAlchemy2 fields <https://geoalchemy-2.readthedocs.io/en/0.2.6/types.html>`__ (it seems the latest doc is dead)
.

requirements:

- `GetAlchemy2 <https://geoalchemy-2.readthedocs.io/en/latest/>`__ (tested with 0.8.2)

You can try the demo on `project_postgis`. (`project_postgis/places/models.py <project_postgis/places/models.py>`__)

.. code-block:: shell

  (venv) project_postgis # ./manage.py migrate
  (venv) project_postgis # ./manage.py shell

.. code-block:: python

  >>> from shapely import wkb, wkt
  >>> from binascii import unhexlify
  
  >>> from d2a import make_session, query_expression, execute_expression
  >>> from sqlalchemy import select, insert, func
  
  >>> from places.models_sqla import Lake, Address
  
  >>> biwa_polygon = 'SRID=4326;POLYGON ((136.178285013544 35.50194537232863, 136.2689222205695 35.33855302068655, 136.007996927631 35.12542349901801, 135.9008802284256 35.00402683524988, 135.8569349159368 35.02202291592027, 135.9338392128034 35.14788454395553, 135.9118665565545 35.17482961681633, 136.0684217323086 35.33631246923886, 136.010743509661 35.42588605444907, 136.181031595574 35.50194537232863, 136.178285013544 35.50194537232863))'
  >>> hamana_polygon = 'SRID=4326;POLYGON ((137.5927747594449 34.68270594009567, 137.5241102086773 34.76002540067644, 137.5488294469562 34.80119528194018, 137.5728620397208 34.79499291598717, 137.5536359655109 34.76792258655016, 137.5584424840656 34.75833304827012, 137.5859083043745 34.78653439228995, 137.6106275426533 34.7887900834393, 137.6223005162785 34.80119528194018, 137.6456464635469 34.79330128065563, 137.6030744420686 34.75720479406168, 137.5811017858198 34.71036865119887, 137.6085676061286 34.7143197121764, 137.6126874791691 34.73915063015775, 137.6195539342486 34.73520075578916, 137.631913553388 34.75325578292335, 137.6483930455769 34.76002540067644, 137.6353467809232 34.74197185339279, 137.6326001988932 34.73237930135899, 137.6120008336638 34.70472395096481, 137.6065076696039 34.68101200434809, 137.5927747594449 34.68157665344774, 137.5927747594449 34.68270594009567))'
  >>> with make_session() as session:
  ...     session.add_all([
  ...         Lake(name="Biwa", geom=biwa_polygon),
  ...         Lake(name="Hamana", geom=hamana_polygon),
  ...     ])

  >>> with make_session() as session:
  ...     query = session.query(Lake).all()
  ...     for l in query:
  ...         binary = unhexlify(l.geom.desc)
  ...         polygon = wkb.loads(binary)
  ...         print(l.name, polygon)
  ...
  Biwa POLYGON ((136.178285013544 35.50194537232863, 136.2689222205695 35.33855302068655, 136.007996927631 35.12542349901801, 135.9008802284256 35.00402683524988, 135.8569349159368 35.02202291592027, 135.9338392128034 35.14788454395553, 135.9118665565545 35.17482961681633, 136.0684217323086 35.33631246923886, 136.010743509661 35.42588605444907, 136.181031595574 35.50194537232863, 136.178285013544 35.50194537232863))
  Hamana POLYGON ((137.5927747594449 34.68270594009567, 137.5241102086773 34.76002540067644, 137.5488294469562 34.80119528194018, 137.5728620397208 34.79499291598717, 137.5536359655109 34.76792258655016, 137.5584424840656 34.75833304827012, 137.5859083043745 34.78653439228995, 137.6106275426533 34.7887900834393, 137.6223005162785 34.80119528194018, 137.6456464635469 34.79330128065563, 137.6030744420686 34.75720479406168, 137.5811017858198 34.71036865119887, 137.6085676061286 34.7143197121764, 137.6126874791691 34.73915063015775, 137.6195539342486 34.73520075578916, 137.631913553388 34.75325578292335, 137.6483930455769 34.76002540067644, 137.6353467809232 34.74197185339279, 137.6326001988932 34.73237930135899, 137.6120008336638 34.70472395096481, 137.6065076696039 34.68101200434809, 137.5927747594449 34.68157665344774, 137.5927747594449 34.68270594009567))
  
  >>> AddressTable = Address.__table__
  >>> stmt = insert(AddressTable).values([
  ...         {'detail': "東京都千代田区丸の内１丁目", 'geom': 'SRID=4326;POINT(139.7658897741753 35.68141880064069)'},
  ...         {'detail': "New York, NY 10004", 'geom': 'SRID=4326;POINT(-74.04466213161706 40.68926717678862)'},
  ... ])
  >>> execute_expression(stmt)
  2
  >>> stmt = select([
  ...     AddressTable.c.id,
  ...     AddressTable.c.detail,
  ...     AddressTable.c.geom,
  ... ]).select_from(AddressTable)
  >>> addresses = query_expression(stmt)
  >>> for address in addresses:
  ...     point = wkb.loads(address['geom'].tobytes())
  ...     print(address['detail'], point)
  ...
  東京都千代田区丸の内１丁目 POINT (139.7658897741753 35.68141880064069)
  New York, NY 10004 POINT (-74.04466213161706 40.68926717678862)

